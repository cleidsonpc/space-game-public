{"ast":null,"code":"import _asyncToGenerator from\"/home/cleidson/_dev/projects/space-game/space-game-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/cleidson/_dev/projects/space-game/space-game-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/cleidson/_dev/projects/space-game/space-game-frontend/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import styles from\"./SpaceShipPage.module.css\";import PanelLogMessage from\"../../components/SpaceShipParts/PanelLogMessage/PanelLogMessage\";import{PowerPlantInitialProps}from\"../../model/PowerPlant\";import{EngineInitialProps}from\"../../model/Engine\";import{ShieldInitialProps}from\"../../model/Shield\";import PanelActions from\"../../components/SpaceShipParts/PanelActions/PanelActions\";import PanelInfo from\"../../components/SpaceShipParts/PanelInfo/PanelInfo\";import PanelButtons from\"../../components/SpaceShipParts/PanelButtons/PanelButtons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SpaceShipPage=function SpaceShipPage(){var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),logMessage=_React$useState2[0],setLogMessage=_React$useState2[1];var _React$useState3=React.useState(PowerPlantInitialProps),_React$useState4=_slicedToArray(_React$useState3,2),powerPlantProps=_React$useState4[0],setPowerPlantProps=_React$useState4[1];var _React$useState5=React.useState(EngineInitialProps),_React$useState6=_slicedToArray(_React$useState5,2),engineProps=_React$useState6[0],setEngineProps=_React$useState6[1];var _React$useState7=React.useState(ShieldInitialProps),_React$useState8=_slicedToArray(_React$useState7,2),shieldProps=_React$useState8[0],setShieldProps=_React$useState8[1];var _React$useState9=React.useState(\"\"),_React$useState10=_slicedToArray(_React$useState9,2),openPanelInfoDisplay=_React$useState10[0],setOpenPanelInfoDisplay=_React$useState10[1];setOpenPanelInfoDisplay(\"shieldInfo\");var buildLogMessage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(param){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLogMessage(logMessage+\" | \"+param);case 1:case\"end\":return _context.stop();}}},_callee);}));return function buildLogMessage(_x){return _ref.apply(this,arguments);};}();React.useEffect(function(){console.log(\"CPC: useEffect called on SpaceShipPage\");});var powerPlantOnOff=function powerPlantOnOff(param){powerPlantProps.powerStatus=param;//         then((response) => response.json())\n//               .then((data) => {\n//                  setPosts((posts) => [data, ...posts]);\n//                  setTitle('');\n//                  setBody('');\n//               })\n//\n//         if (response.status === 200) {\n//           setPosts(\n//              posts.filter((post) => {\n//                 return post.id !== id;\n//              })\n//           );\n//        } else {\n//           return;\n//        }\n//\n// Export?\nif(!param){engineOnOff(false);shieldOnOff(false);}// Export?\nif(param){powerPlantProps.energyAvailable=PowerPlantInitialProps.energyMax;}else{powerPlantProps.energyAvailable=0;}setPowerPlantProps(powerPlantProps);buildLogMessage(\"Power Plant is: \"+(param?\"ON\":\"OFF\"));};var engineOnOff=function engineOnOff(param){if(!powerPlantProps.powerStatus){param=false;}engineProps.powerStatus=param;setEngineProps(engineProps);calcEngineEnergyAvailable();buildLogMessage(\"Engine is: \"+(param?\"ON\":\"OFF\"));};var calcEngineEnergyAvailable=function calcEngineEnergyAvailable(){if(engineProps.powerStatus){powerPlantProps.energyAvailable-=engineProps.powerConsumption;}else if(powerPlantProps.powerStatus&&!engineProps.powerStatus){powerPlantProps.energyAvailable+=engineProps.powerConsumption;}setPowerPlantProps(powerPlantProps);};var shieldOnOff=function shieldOnOff(param){if(!powerPlantProps.powerStatus){param=false;}// Export\nif(param){shieldProps.capacity=100;}else{shieldProps.capacity=0;}shieldProps.powerStatus=param;setShieldProps(shieldProps);calcEnergyAvailable();buildLogMessage(\"Shield is: \"+(param?\"ON\":\"OFF\"));};var calcEnergyAvailable=function calcEnergyAvailable(){if(shieldProps.powerStatus){powerPlantProps.energyAvailable-=shieldProps.powerConsumption;}else if(powerPlantProps.powerStatus&&!shieldProps.powerStatus){powerPlantProps.energyAvailable+=shieldProps.powerConsumption;}setPowerPlantProps(powerPlantProps);};var backgroundEngineOnOff=function backgroundEngineOnOff(){var result;if(engineProps.powerStatus){result=styles.sp_backgroundEngineOn;}else{result=styles.sp_backgroundEngineOff;}return result;};return/*#__PURE__*/_jsxs(\"div\",{className:styles.sp_container,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.sp_pageTitle,children:\"Title\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.sp_background+\" \"+backgroundEngineOnOff(),children:/*#__PURE__*/_jsxs(\"div\",{className:styles.sp_shipPanelContainer,children:[engineProps.powerStatus?\"engine ON\":\"\",/*#__PURE__*/_jsxs(\"div\",{className:styles.sp_shipPanel,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.sp_shipPainelLeft,children:/*#__PURE__*/_jsx(PanelActions,{})}),/*#__PURE__*/_jsx(\"div\",{className:styles.sp_shipPainelMiddle,children:/*#__PURE__*/_jsx(PanelInfo,{openPanelInfoDisplay:openPanelInfoDisplay})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.sp_shipPainelRight,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.sp_shipPainelRightUp,children:/*#__PURE__*/_jsx(PanelLogMessage,{message:logMessage})}),/*#__PURE__*/_jsx(\"div\",{className:styles.sp_shipPainelRightDown,children:/*#__PURE__*/_jsx(PanelButtons,{powerPlantProps:powerPlantProps,changePowerPlant:powerPlantOnOff,engineProps:engineProps,changeEngine:engineOnOff,shieldProps:shieldProps,changeShield:shieldOnOff})})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:styles.sp_pageFooter,children:\"Footer\"})]});};export default SpaceShipPage;","map":{"version":3,"sources":["/home/cleidson/_dev/projects/space-game/space-game-frontend/src/pages/SpaceShipPage/SpaceShipPage.tsx"],"names":["React","styles","PanelLogMessage","PowerPlantInitialProps","EngineInitialProps","ShieldInitialProps","PanelActions","PanelInfo","PanelButtons","SpaceShipPage","useState","logMessage","setLogMessage","powerPlantProps","setPowerPlantProps","engineProps","setEngineProps","shieldProps","setShieldProps","openPanelInfoDisplay","setOpenPanelInfoDisplay","buildLogMessage","param","useEffect","console","log","powerPlantOnOff","powerStatus","engineOnOff","shieldOnOff","energyAvailable","energyMax","calcEngineEnergyAvailable","powerConsumption","capacity","calcEnergyAvailable","backgroundEngineOnOff","result","sp_backgroundEngineOn","sp_backgroundEngineOff","sp_container","sp_pageTitle","sp_background","sp_shipPanelContainer","sp_shipPanel","sp_shipPainelLeft","sp_shipPainelMiddle","sp_shipPainelRight","sp_shipPainelRightUp","sp_shipPainelRightDown","sp_pageFooter"],"mappings":"sbAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CAEA,MAAOC,CAAAA,eAAP,KAA4B,iEAA5B,CAEA,OAA0BC,sBAA1B,KAAwD,wBAAxD,CACA,OAAsBC,kBAAtB,KAAgD,oBAAhD,CACA,OAAsBC,kBAAtB,KAAgD,oBAAhD,CACA,MAAOC,CAAAA,YAAP,KAAyB,2DAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,qDAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,2DAAzB,C,wFAEA,GAAMC,CAAAA,aAAuB,CAAG,QAA1BA,CAAAA,aAA0B,EAAM,CAClC,oBAAoCT,KAAK,CAACU,QAAN,CAAoB,EAApB,CAApC,oDAAOC,UAAP,qBAAmBC,aAAnB,qBACA,qBAA8CZ,KAAK,CAACU,QAAN,CAAiCP,sBAAjC,CAA9C,qDAAOU,eAAP,qBAAwBC,kBAAxB,qBACA,qBAAsCd,KAAK,CAACU,QAAN,CAA6BN,kBAA7B,CAAtC,qDAAOW,WAAP,qBAAoBC,cAApB,qBACA,qBAAsChB,KAAK,CAACU,QAAN,CAA6BL,kBAA7B,CAAtC,qDAAOY,WAAP,qBAAoBC,cAApB,qBAEA,qBAAwDlB,KAAK,CAACU,QAAN,CAAuB,EAAvB,CAAxD,sDAAOS,oBAAP,sBAA6BC,uBAA7B,sBACAA,uBAAuB,CAAC,YAAD,CAAvB,CAEA,GAAMC,CAAAA,eAAe,0FAAG,iBAAOC,KAAP,kHACpBV,aAAa,CAACD,UAAU,CAAG,KAAb,CAAqBW,KAAtB,CAAb,CADoB,sDAAH,kBAAfD,CAAAA,eAAe,4CAArB,CAIArB,KAAK,CAACuB,SAAN,CAAgB,UAAM,CAClBC,OAAO,CAACC,GAAR,CAAY,wCAAZ,EACH,CAFD,EAIA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACJ,KAAD,CAAmB,CACvCT,eAAe,CAACc,WAAhB,CAA8BL,KAA9B,CAER;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGQ;AACA,GAAG,CAACA,KAAJ,CAAW,CACPM,WAAW,CAAC,KAAD,CAAX,CACAC,WAAW,CAAC,KAAD,CAAX,CACH,CAED;AACA,GAAGP,KAAH,CAAU,CACNT,eAAe,CAACiB,eAAhB,CAAkC3B,sBAAsB,CAAC4B,SAAzD,CACH,CAFD,IAEO,CACHlB,eAAe,CAACiB,eAAhB,CAAkC,CAAlC,CACH,CAEDhB,kBAAkB,CAACD,eAAD,CAAlB,CAEAQ,eAAe,CAAC,oBAAsBC,KAAK,CAAG,IAAH,CAAU,KAArC,CAAD,CAAf,CACH,CAtCD,CAwCA,GAAMM,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACN,KAAD,CAAmB,CACnC,GAAG,CAACT,eAAe,CAACc,WAApB,CAAiC,CAC7BL,KAAK,CAAG,KAAR,CACH,CAEDP,WAAW,CAACY,WAAZ,CAA0BL,KAA1B,CACAN,cAAc,CAACD,WAAD,CAAd,CAEAiB,yBAAyB,GAEzBX,eAAe,CAAC,eAAiBC,KAAK,CAAC,IAAD,CAAM,KAA5B,CAAD,CAAf,CACH,CAXD,CAaA,GAAMU,CAAAA,yBAAyB,CAAG,QAA5BA,CAAAA,yBAA4B,EAAM,CACpC,GAAGjB,WAAW,CAACY,WAAf,CAA4B,CACxBd,eAAe,CAACiB,eAAhB,EAAmCf,WAAW,CAACkB,gBAA/C,CACH,CAFD,IAEO,IAAGpB,eAAe,CAACc,WAAhB,EAA+B,CAACZ,WAAW,CAACY,WAA/C,CAA4D,CAC/Dd,eAAe,CAACiB,eAAhB,EAAmCf,WAAW,CAACkB,gBAA/C,CACH,CACDnB,kBAAkB,CAACD,eAAD,CAAlB,CACH,CAPD,CASA,GAAMgB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACP,KAAD,CAAmB,CACnC,GAAG,CAACT,eAAe,CAACc,WAApB,CAAiC,CAC7BL,KAAK,CAAG,KAAR,CACH,CAED;AACA,GAAGA,KAAH,CAAU,CACNL,WAAW,CAACiB,QAAZ,CAAuB,GAAvB,CACH,CAFD,IAEO,CACHjB,WAAW,CAACiB,QAAZ,CAAuB,CAAvB,CACH,CAEDjB,WAAW,CAACU,WAAZ,CAA0BL,KAA1B,CACAJ,cAAc,CAACD,WAAD,CAAd,CAEAkB,mBAAmB,GAEnBd,eAAe,CAAC,eAAiBC,KAAK,CAAC,IAAD,CAAM,KAA5B,CAAD,CAAf,CACH,CAlBD,CAoBA,GAAMa,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CAC9B,GAAGlB,WAAW,CAACU,WAAf,CAA4B,CACxBd,eAAe,CAACiB,eAAhB,EAAmCb,WAAW,CAACgB,gBAA/C,CACH,CAFD,IAEO,IAAGpB,eAAe,CAACc,WAAhB,EAA+B,CAACV,WAAW,CAACU,WAA/C,CAA4D,CAC/Dd,eAAe,CAACiB,eAAhB,EAAmCb,WAAW,CAACgB,gBAA/C,CACH,CACDnB,kBAAkB,CAACD,eAAD,CAAlB,CACH,CAPD,CASA,GAAMuB,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,EAAM,CAChC,GAAIC,CAAAA,MAAJ,CAEA,GAAGtB,WAAW,CAACY,WAAf,CAA4B,CACxBU,MAAM,CAAGpC,MAAM,CAACqC,qBAAhB,CACH,CAFD,IAEO,CACHD,MAAM,CAAGpC,MAAM,CAACsC,sBAAhB,CACH,CAED,MAAOF,CAAAA,MAAP,CACH,CAVD,CAYA,mBACI,aAAK,SAAS,CAAEpC,MAAM,CAACuC,YAAvB,wBACI,YAAK,SAAS,CAAEvC,MAAM,CAACwC,YAAvB,mBADJ,cAGI,YAAK,SAAS,CAAExC,MAAM,CAACyC,aAAP,CAAuB,GAAvB,CAA6BN,qBAAqB,EAAlE,uBACI,aAAK,SAAS,CAAEnC,MAAM,CAAC0C,qBAAvB,WACM5B,WAAW,CAACY,WAAZ,CAA0B,WAA1B,CAAwC,EAD9C,cAGI,aAAK,SAAS,CAAE1B,MAAM,CAAC2C,YAAvB,wBACI,YAAK,SAAS,CAAE3C,MAAM,CAAC4C,iBAAvB,uBACI,KAAC,YAAD,IADJ,EADJ,cAKI,YAAK,SAAS,CAAE5C,MAAM,CAAC6C,mBAAvB,uBACI,KAAC,SAAD,EAAW,oBAAoB,CAAE3B,oBAAjC,EADJ,EALJ,cASI,aAAK,SAAS,CAAElB,MAAM,CAAC8C,kBAAvB,wBACI,YAAK,SAAS,CAAE9C,MAAM,CAAC+C,oBAAvB,uBACI,KAAC,eAAD,EAAiB,OAAO,CAAErC,UAA1B,EADJ,EADJ,cAKI,YAAK,SAAS,CAAEV,MAAM,CAACgD,sBAAvB,uBACI,KAAC,YAAD,EACI,eAAe,CAAEpC,eADrB,CAEI,gBAAgB,CAAEa,eAFtB,CAII,WAAW,CAAEX,WAJjB,CAKI,YAAY,CAAEa,WALlB,CAOI,WAAW,CAAEX,WAPjB,CAQI,YAAY,CAAEY,WARlB,EADJ,EALJ,GATJ,GAHJ,GADJ,EAHJ,cAsCI,YAAK,SAAS,CAAE5B,MAAM,CAACiD,aAAvB,oBAtCJ,GADJ,CA4CH,CApKD,CAsKA,cAAezC,CAAAA,aAAf","sourcesContent":["import React from \"react\";\nimport styles from \"./SpaceShipPage.module.css\";\n\nimport PanelLogMessage from \"../../components/SpaceShipParts/PanelLogMessage/PanelLogMessage\";\n\nimport { PowerPlantProps, PowerPlantInitialProps } from \"../../model/PowerPlant\";\nimport { EngineProps, EngineInitialProps } from \"../../model/Engine\";\nimport { ShieldProps, ShieldInitialProps } from \"../../model/Shield\";\nimport PanelActions from \"../../components/SpaceShipParts/PanelActions/PanelActions\";\nimport PanelInfo from \"../../components/SpaceShipParts/PanelInfo/PanelInfo\";\nimport PanelButtons from \"../../components/SpaceShipParts/PanelButtons/PanelButtons\";\n\nconst SpaceShipPage: React.FC = () => {\n    const [logMessage, setLogMessage] = React.useState<any>(\"\");\n    const [powerPlantProps, setPowerPlantProps] = React.useState<PowerPlantProps>( PowerPlantInitialProps );\n    const [engineProps, setEngineProps] = React.useState<EngineProps>( EngineInitialProps );\n    const [shieldProps, setShieldProps] = React.useState<ShieldProps>( ShieldInitialProps );\n\n    const [openPanelInfoDisplay, setOpenPanelInfoDisplay] = React.useState<string>(\"\");\n    setOpenPanelInfoDisplay(\"shieldInfo\");\n\n    const buildLogMessage = async (param:string) => {\n        setLogMessage(logMessage + \" | \" + param);\n    }\n\n    React.useEffect(() => {\n        console.log(\"CPC: useEffect called on SpaceShipPage\");\n    });\n\n    const powerPlantOnOff = (param:boolean) => {\n        powerPlantProps.powerStatus = param;\n\n//         then((response) => response.json())\n//               .then((data) => {\n//                  setPosts((posts) => [data, ...posts]);\n//                  setTitle('');\n//                  setBody('');\n//               })\n//\n//         if (response.status === 200) {\n//           setPosts(\n//              posts.filter((post) => {\n//                 return post.id !== id;\n//              })\n//           );\n//        } else {\n//           return;\n//        }\n//\n\n\n        // Export?\n        if(!param) {\n            engineOnOff(false);\n            shieldOnOff(false);\n        }\n\n        // Export?\n        if(param) {\n            powerPlantProps.energyAvailable = PowerPlantInitialProps.energyMax;\n        } else {\n            powerPlantProps.energyAvailable = 0;\n        }\n\n        setPowerPlantProps(powerPlantProps);\n\n        buildLogMessage(\"Power Plant is: \" + (param ? \"ON\" : \"OFF\"));\n    }\n\n    const engineOnOff = (param:boolean) => {\n        if(!powerPlantProps.powerStatus) {\n            param = false;\n        }\n\n        engineProps.powerStatus = param;\n        setEngineProps(engineProps);\n\n        calcEngineEnergyAvailable();\n\n        buildLogMessage(\"Engine is: \" + (param?\"ON\":\"OFF\"));\n    }\n\n    const calcEngineEnergyAvailable = () => {\n        if(engineProps.powerStatus) {\n            powerPlantProps.energyAvailable -= engineProps.powerConsumption;\n        } else if(powerPlantProps.powerStatus && !engineProps.powerStatus) {\n            powerPlantProps.energyAvailable += engineProps.powerConsumption;\n        }\n        setPowerPlantProps(powerPlantProps);\n    }\n\n    const shieldOnOff = (param:boolean) => {\n        if(!powerPlantProps.powerStatus) {\n            param = false;\n        }\n\n        // Export\n        if(param) {\n            shieldProps.capacity = 100;\n        } else {\n            shieldProps.capacity = 0;\n        }\n\n        shieldProps.powerStatus = param;\n        setShieldProps(shieldProps);\n\n        calcEnergyAvailable();\n\n        buildLogMessage(\"Shield is: \" + (param?\"ON\":\"OFF\"));\n    }\n\n    const calcEnergyAvailable = () => {\n        if(shieldProps.powerStatus) {\n            powerPlantProps.energyAvailable -= shieldProps.powerConsumption;\n        } else if(powerPlantProps.powerStatus && !shieldProps.powerStatus) {\n            powerPlantProps.energyAvailable += shieldProps.powerConsumption;\n        }\n        setPowerPlantProps(powerPlantProps);\n    }\n\n    const backgroundEngineOnOff = () => {\n        let result;\n\n        if(engineProps.powerStatus) {\n            result = styles.sp_backgroundEngineOn;\n        } else {\n            result = styles.sp_backgroundEngineOff;\n        }\n\n        return result;\n    }\n\n    return(\n        <div className={styles.sp_container}>\n            <div className={styles.sp_pageTitle} >Title</div>\n\n            <div className={styles.sp_background + \" \" + backgroundEngineOnOff()} >\n                <div className={styles.sp_shipPanelContainer} >\n                    { engineProps.powerStatus ? \"engine ON\" : \"\" }\n\n                    <div className={styles.sp_shipPanel} >\n                        <div className={styles.sp_shipPainelLeft} >\n                            <PanelActions/>\n                        </div>\n\n                        <div className={styles.sp_shipPainelMiddle} >\n                            <PanelInfo openPanelInfoDisplay={openPanelInfoDisplay}/>\n                        </div>\n\n                        <div className={styles.sp_shipPainelRight} >\n                            <div className={styles.sp_shipPainelRightUp} >\n                                <PanelLogMessage message={logMessage} />\n                            </div>\n\n                            <div className={styles.sp_shipPainelRightDown} >\n                                <PanelButtons\n                                    powerPlantProps={powerPlantProps}\n                                    changePowerPlant={powerPlantOnOff}\n                                    \n                                    engineProps={engineProps}\n                                    changeEngine={engineOnOff}\n                                    \n                                    shieldProps={shieldProps}\n                                    changeShield={shieldOnOff} />\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n\n            <div className={styles.sp_pageFooter} >\n                Footer\n            </div>\n        </div>\n    );\n};\n\nexport default SpaceShipPage;\n"]},"metadata":{},"sourceType":"module"}