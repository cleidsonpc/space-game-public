{
  "ast": null,
  "code": "var _jsxFileName = \"/home/cleidson/_dev/projects/space-game/space-game-frontend/src/pages/SpaceShipPage/SpaceShipPage.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport styles from \"./SpaceShipPage.module.css\";\nimport PanelLogMessage from \"../../components/SpaceShipParts/PanelLogMessage/PanelLogMessage\";\nimport { PowerPlantInitialProps } from \"../../model/PowerPlant\";\nimport { EngineInitialProps } from \"../../model/Engine\";\nimport { ShieldInitialProps } from \"../../model/Shield\";\nimport PanelActions from \"../../components/SpaceShipParts/PanelActions/PanelActions\";\nimport PanelInfo from \"../../components/SpaceShipParts/PanelInfo/PanelInfo\";\nimport PanelButtons from \"../../components/SpaceShipParts/PanelButtons/PanelButtons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SpaceShipPage = () => {\n  _s();\n\n  const [logMessage, setLogMessage] = React.useState(\"\");\n  const [powerPlantProps, setPowerPlantProps] = React.useState(PowerPlantInitialProps);\n  const [engineProps, setEngineProps] = React.useState(EngineInitialProps);\n  const [shieldProps, setShieldProps] = React.useState(ShieldInitialProps);\n  const [myTest, setMyTest] = React.useState();\n\n  const buildLogMessage = async param => {\n    setLogMessage(logMessage + \" | \" + param);\n  };\n\n  React.useEffect(() => {//         fetch('http://localhost:8080/ship_status')\n    //             .then((response) => response.json())\n    //             .then((data) => {\n    //                 setMyTest(data);\n    //             }).catch((err) => {\n    //                 console.log(err.message);\n    //             });\n    //\n    //         console.log(myTest.shieldDto);\n  });\n  React.useEffect(() => {\n    const fetchData = async () => {\n      const response = await fetch('http://localhost:8080/ship_status');\n      const json = await response.json();\n      setMyTest(json);\n    };\n\n    fetchData(); // Fetch data initially\n\n    const intervalId = setInterval(() => {\n      fetchData(); // Fetch data every 2 minutes\n    }, 1);\n    console.log(\"test\");\n    return () => clearInterval(intervalId);\n  }, []);\n\n  const powerPlantOnOff = param => {\n    powerPlantProps.powerStatus = param; //         var test;\n    //         var result = fetch('http://localhost:8080/ship_status')\n    //             .then(response => response.json())\n    //             .then(data => console.log(data));\n\n    fetch('http://localhost:8080/ship_status').then(response => response.json()).then(data => {\n      setMyTest(data);\n    }).catch(err => {\n      console.log(err.message);\n    });\n    console.log(myTest.shieldDto);\n    /*\n    then((response) => response.json())\n          .then((data) => {\n             setPosts((posts) => [data, ...posts]);\n             setTitle('');\n             setBody('');\n          })\n    */\n\n    /*\n    if (response.status === 200) {\n          setPosts(\n             posts.filter((post) => {\n                return post.id !== id;\n             })\n          );\n       } else {\n          return;\n       }\n    */\n    // Export?\n\n    if (!param) {\n      engineOnOff(false);\n      shieldOnOff(false);\n    } // Export?\n\n\n    if (param) {\n      powerPlantProps.energyAvailable = PowerPlantInitialProps.energyMax;\n    } else {\n      powerPlantProps.energyAvailable = 0;\n    }\n\n    setPowerPlantProps(powerPlantProps);\n    buildLogMessage(\"Power Plant is: \" + (param ? \"ON\" : \"OFF\"));\n  };\n\n  const engineOnOff = param => {\n    if (!powerPlantProps.powerStatus) {\n      param = false;\n    }\n\n    engineProps.powerStatus = param;\n    setEngineProps(engineProps);\n    calcEngineEnergyAvailable();\n    buildLogMessage(\"Engine is: \" + (param ? \"ON\" : \"OFF\"));\n  };\n\n  const calcEngineEnergyAvailable = () => {\n    if (engineProps.powerStatus) {\n      powerPlantProps.energyAvailable -= engineProps.powerConsumption;\n    } else if (powerPlantProps.powerStatus && !engineProps.powerStatus) {\n      powerPlantProps.energyAvailable += engineProps.powerConsumption;\n    }\n\n    setPowerPlantProps(powerPlantProps);\n  };\n\n  const shieldOnOff = param => {\n    if (!powerPlantProps.powerStatus) {\n      param = false;\n    } // Export\n\n\n    if (param) {\n      shieldProps.capacity = 100;\n    } else {\n      shieldProps.capacity = 0;\n    }\n\n    shieldProps.powerStatus = param;\n    setShieldProps(shieldProps);\n    calcEnergyAvailable();\n    buildLogMessage(\"Shield is: \" + (param ? \"ON\" : \"OFF\"));\n  };\n\n  const calcEnergyAvailable = () => {\n    if (shieldProps.powerStatus) {\n      powerPlantProps.energyAvailable -= shieldProps.powerConsumption;\n    } else if (powerPlantProps.powerStatus && !shieldProps.powerStatus) {\n      powerPlantProps.energyAvailable += shieldProps.powerConsumption;\n    }\n\n    setPowerPlantProps(powerPlantProps);\n  };\n\n  const backgroundEngineOnOff = () => {\n    let result;\n\n    if (engineProps.powerStatus) {\n      result = styles.sp_backgroundEngineOn;\n    } else {\n      result = styles.sp_backgroundEngineOff;\n    }\n\n    return result;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.sp_container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.sp_pageTitle,\n      children: \"Title\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.sp_background + \" \" + backgroundEngineOnOff(),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.sp_shipPanelContainer,\n        children: [engineProps.powerStatus ? \"engine ON\" : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.sp_shipPanel,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.sp_shipPainelLeft,\n            children: /*#__PURE__*/_jsxDEV(PanelActions, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.sp_shipPainelMiddle,\n            children: /*#__PURE__*/_jsxDEV(PanelInfo, {\n              powerPlantProps: powerPlantProps,\n              engineProps: engineProps,\n              shieldProps: shieldProps\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.sp_shipPainelRight,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.sp_shipPainelRightUp,\n              children: /*#__PURE__*/_jsxDEV(PanelLogMessage, {\n                message: logMessage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.sp_shipPainelRightDown,\n              children: /*#__PURE__*/_jsxDEV(PanelButtons, {\n                powerPlantProps: powerPlantProps,\n                changePowerPlant: powerPlantOnOff,\n                engineProps: engineProps,\n                changeEngine: engineOnOff,\n                shieldProps: shieldProps,\n                changeShield: shieldOnOff\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.sp_pageFooter,\n      children: \"Footer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 183,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SpaceShipPage, \"0KdDVLnvrVoSiOmFmbEsGZ23e0U=\");\n\n_c = SpaceShipPage;\nexport default SpaceShipPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SpaceShipPage\");",
  "map": {
    "version": 3,
    "sources": [
      "/home/cleidson/_dev/projects/space-game/space-game-frontend/src/pages/SpaceShipPage/SpaceShipPage.tsx"
    ],
    "names": [
      "React",
      "styles",
      "PanelLogMessage",
      "PowerPlantInitialProps",
      "EngineInitialProps",
      "ShieldInitialProps",
      "PanelActions",
      "PanelInfo",
      "PanelButtons",
      "SpaceShipPage",
      "logMessage",
      "setLogMessage",
      "useState",
      "powerPlantProps",
      "setPowerPlantProps",
      "engineProps",
      "setEngineProps",
      "shieldProps",
      "setShieldProps",
      "myTest",
      "setMyTest",
      "buildLogMessage",
      "param",
      "useEffect",
      "fetchData",
      "response",
      "fetch",
      "json",
      "intervalId",
      "setInterval",
      "console",
      "log",
      "clearInterval",
      "powerPlantOnOff",
      "powerStatus",
      "then",
      "data",
      "catch",
      "err",
      "message",
      "shieldDto",
      "engineOnOff",
      "shieldOnOff",
      "energyAvailable",
      "energyMax",
      "calcEngineEnergyAvailable",
      "powerConsumption",
      "capacity",
      "calcEnergyAvailable",
      "backgroundEngineOnOff",
      "result",
      "sp_backgroundEngineOn",
      "sp_backgroundEngineOff",
      "sp_container",
      "sp_pageTitle",
      "sp_background",
      "sp_shipPanelContainer",
      "sp_shipPanel",
      "sp_shipPainelLeft",
      "sp_shipPainelMiddle",
      "sp_shipPainelRight",
      "sp_shipPainelRightUp",
      "sp_shipPainelRightDown",
      "sp_pageFooter"
    ],
    "mappings": "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",
    "sourcesContent": [
      "import React from \"react\";\nimport styles from \"./SpaceShipPage.module.css\";\n\nimport PanelLogMessage from \"../../components/SpaceShipParts/PanelLogMessage/PanelLogMessage\";\nimport { PowerPlantProps, PowerPlantInitialProps } from \"../../model/PowerPlant\";\nimport { EngineProps, EngineInitialProps } from \"../../model/Engine\";\nimport { ShieldProps, ShieldInitialProps } from \"../../model/Shield\";\nimport PanelActions from \"../../components/SpaceShipParts/PanelActions/PanelActions\";\nimport PanelInfo from \"../../components/SpaceShipParts/PanelInfo/PanelInfo\";\nimport PanelButtons from \"../../components/SpaceShipParts/PanelButtons/PanelButtons\";\n\nconst SpaceShipPage: React.FC = () => {\n    const [logMessage, setLogMessage] = React.useState<any>(\"\");\n    const [powerPlantProps, setPowerPlantProps] = React.useState<PowerPlantProps>( PowerPlantInitialProps );\n    const [engineProps, setEngineProps] = React.useState<EngineProps>( EngineInitialProps );\n    const [shieldProps, setShieldProps] = React.useState<ShieldProps>( ShieldInitialProps );\n\n    const [myTest, setMyTest] = React.useState<any>();\n\n    const buildLogMessage = async (param:string) => {\n        setLogMessage(logMessage + \" | \" + param);\n    }\n\n\n\n    React.useEffect(() => {\n//         fetch('http://localhost:8080/ship_status')\n//             .then((response) => response.json())\n//             .then((data) => {\n//                 setMyTest(data);\n//             }).catch((err) => {\n//                 console.log(err.message);\n//             });\n//\n//         console.log(myTest.shieldDto);\n      });\n\n      React.useEffect(() => {\n          const fetchData = async () => {\n            const response = await fetch('http://localhost:8080/ship_status');\n            const json = await response.json();\n            setMyTest(json);\n          };\n\n          fetchData(); // Fetch data initially\n\n          const intervalId = setInterval(() => {\n            fetchData(); // Fetch data every 2 minutes\n          }, 1);\n\n            console.log(\"test\");\n\n          return () => clearInterval(intervalId);\n        }, []);\n\n\n\n    const powerPlantOnOff = (param:boolean) => {\n        powerPlantProps.powerStatus = param;\n\n\n//         var test;\n//         var result = fetch('http://localhost:8080/ship_status')\n//             .then(response => response.json())\n//             .then(data => console.log(data));\n\n\n        fetch('http://localhost:8080/ship_status')\n            .then((response) => response.json())\n            .then((data) => {\n                setMyTest(data);\n            }).catch((err) => {\n                console.log(err.message);\n            });\n\n        console.log(myTest.shieldDto);\n\n\n        /*\n        then((response) => response.json())\n              .then((data) => {\n                 setPosts((posts) => [data, ...posts]);\n                 setTitle('');\n                 setBody('');\n              })\n        */\n\n        /*\n        if (response.status === 200) {\n              setPosts(\n                 posts.filter((post) => {\n                    return post.id !== id;\n                 })\n              );\n           } else {\n              return;\n           }\n        */\n\n\n        // Export?\n        if(!param) {\n            engineOnOff(false);\n            shieldOnOff(false);\n        }\n\n        // Export?\n        if(param) {\n            powerPlantProps.energyAvailable = PowerPlantInitialProps.energyMax;\n        } else {\n            powerPlantProps.energyAvailable = 0;\n        }\n\n        setPowerPlantProps(powerPlantProps);\n\n        buildLogMessage(\"Power Plant is: \" + (param ? \"ON\" : \"OFF\"));\n    }\n\n    const engineOnOff = (param:boolean) => {\n        if(!powerPlantProps.powerStatus) {\n            param = false;\n        }\n\n        engineProps.powerStatus = param;\n        setEngineProps(engineProps);\n\n        calcEngineEnergyAvailable();\n\n        buildLogMessage(\"Engine is: \" + (param?\"ON\":\"OFF\"));\n    }\n\n    const calcEngineEnergyAvailable = () => {\n        if(engineProps.powerStatus) {\n            powerPlantProps.energyAvailable -= engineProps.powerConsumption;\n        } else if(powerPlantProps.powerStatus && !engineProps.powerStatus) {\n            powerPlantProps.energyAvailable += engineProps.powerConsumption;\n        }\n        setPowerPlantProps(powerPlantProps);\n    }\n\n    const shieldOnOff = (param:boolean) => {\n        if(!powerPlantProps.powerStatus) {\n            param = false;\n        }\n\n        // Export\n        if(param) {\n            shieldProps.capacity = 100;\n        } else {\n            shieldProps.capacity = 0;\n        }\n\n        shieldProps.powerStatus = param;\n        setShieldProps(shieldProps);\n\n        calcEnergyAvailable();\n\n        buildLogMessage(\"Shield is: \" + (param?\"ON\":\"OFF\"));\n    }\n\n    const calcEnergyAvailable = () => {\n        if(shieldProps.powerStatus) {\n            powerPlantProps.energyAvailable -= shieldProps.powerConsumption;\n        } else if(powerPlantProps.powerStatus && !shieldProps.powerStatus) {\n            powerPlantProps.energyAvailable += shieldProps.powerConsumption;\n        }\n        setPowerPlantProps(powerPlantProps);\n    }\n\n    const backgroundEngineOnOff = () => {\n        let result;\n\n        if(engineProps.powerStatus) {\n            result = styles.sp_backgroundEngineOn;\n        } else {\n            result = styles.sp_backgroundEngineOff;\n        }\n\n        return result;\n    }\n\n    return(\n        <div className={styles.sp_container}>\n            <div className={styles.sp_pageTitle} >Title</div>\n\n            <div className={styles.sp_background + \" \" + backgroundEngineOnOff()} >\n                <div className={styles.sp_shipPanelContainer} >\n                    { engineProps.powerStatus ? \"engine ON\" : \"\" }\n\n                    <div className={styles.sp_shipPanel} >\n                        <div className={styles.sp_shipPainelLeft} >\n                            <PanelActions />\n                        </div>\n\n                        <div className={styles.sp_shipPainelMiddle} >\n                            <PanelInfo \n                                powerPlantProps={powerPlantProps}\n                                engineProps={engineProps}\n                                shieldProps={shieldProps} />\n                        </div>\n\n                        <div className={styles.sp_shipPainelRight} >\n                            <div className={styles.sp_shipPainelRightUp} >\n                                <PanelLogMessage message={logMessage} />\n                            </div>\n\n                            <div className={styles.sp_shipPainelRightDown} >\n                                <PanelButtons\n                                    powerPlantProps={powerPlantProps}\n                                    changePowerPlant={powerPlantOnOff}\n                                    \n                                    engineProps={engineProps}\n                                    changeEngine={engineOnOff}\n                                    \n                                    shieldProps={shieldProps}\n                                    changeShield={shieldOnOff} />\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n\n            <div className={styles.sp_pageFooter} >\n                Footer\n            </div>\n        </div>\n    );\n};\n\nexport default SpaceShipPage;\n"
    ]
  },
  "metadata": {},
  "sourceType": "module"
}